

{% if statusConn == None %}
    {% set offlineMode = false %}
{% else %}
    {% set offlineMode = true %}
{% endif %}




    
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Image Gallery</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="../static/assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../static/css/styles_theme.css" rel="stylesheet" />
        <link href="../static/css/style_main.css" rel="stylesheet" />



    </head>


    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top">Image Gallery<span style="color: lightcoral;" id="span_offline"></span></a>
                <button class="navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#portfolio">Imagens</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about">Sobre</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#contact">Contato</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Masthead Heading-->
                <h1 class="masthead-heading  mb-0">Demonstração: Image Gallery</h1>
                
                {% if offlineMode == true %}
                    <BR>
                    O banco de dados desta aplicação esta armazenado na AWS e eu não mantenho ele ativo o tempo todo.<BR>
                    No momento, ele está desativado e esta página está usando valores "engessados".<BR>
                    A aplicação funciona normalmente (upload, visualização, etc), mas, não salva o cadastro da imagem em um banco.<BR>
                    Caso deseje visualizar a aplicação com banco, por favor, me informe e eu ativo o banco na hora.
                {% endif %}
                    

                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-0">
                    
                    <a href="https://en.wikipedia.org/wiki/Vue.js" style="color:lightblue;" target="_new1">Vue.js</a> | 
                    <a href="https://en.wikipedia.org/wiki/JavaScript" style="color:lightblue;" target="_new2">JavaScript</a> | 
                    <a href="https://en.wikipedia.org/wiki/Bootstrap_(front-end_framework)" style="color:lightblue;" target="_new3">Bootstrap</a> | 
                    <a href="https://en.wikipedia.org/wiki/Jinja_(template_engine)" style="color:lightblue;" target="_new4">Jinja2</a> | 
                    <a href="https://en.wikipedia.org/wiki/Flask_(web_framework)" style="color:lightblue;" target="_new5">Flask</a> | 
                    <a href="https://en.wikipedia.org/wiki/Python_(programming_language)" style="color:lightblue;" target="_new6">Python</a> | 
                    <a href="https://en.wikipedia.org/wiki/SQL" style="color:lightblue;" target="_new7">SQL</a> | 
                    <a href="https://aws.amazon.com/pt/rds/aurora/" style="color:lightblue;" target="_new8">AuroraDB</a> | 
                    <a href="https://aws.amazon.com/pt/elasticbeanstalk/" style="color:lightblue;" target="_new9">BeanStalk</a> | 
                    <a href="https://aws.amazon.com/pt/devops/" style="color:lightblue;" target="_new10">AWS DevOps</a> | 
                    <a href="https://en.wikipedia.org/wiki/Git" style="color:lightblue;" target="_new11">GIT</a> | 
                    <a href="https://en.wikipedia.org/wiki/Markdown" style="color:lightblue;" target="_new12">MarkDown</a>

                </p>
            </div>
        </header>
        <!-- Images Section-->
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Imagens</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Portfolio Grid Items-->
                <div class="row" >

                    

                    <div class="col-md-4 col-lg-4 mb-4">        
                        <div style="background-color: white;">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#uploadModal">&nbsp;&nbsp;Adicionar Imagem&nbsp;&nbsp;</button>
                        </div>
                    </div>

                    <div class="col-md-4 col-lg-4 mb-4">        
                        <div style="background-color: white;">
                            <select class="form-control form-control-sm" style="width: 100%;">
                                <option>Grid</option>
                                <option>Lista</option>
                            </select>
                        </div>
                    </div>


                    <div class="col-md-4 col-lg-4 mb-4" style="vertical-align: bottom;">    
                        
                        <div style="text-align: right; background-color: white;">
                            
                            <table style="margin-left: auto; width: 100%;">
                                <tr>
                                    <td nowrap style="text-align: right; width: 100%;"><input type="text" value="" placeholder="Digite algo..." style="width: 100%;"></td>
                                    <td nowrap style="width: 1%">&nbsp;<i class="fa fa-search"></i></td>
                                </tr>
                            </table>

                            
                        </div>
                    </div>



                    
                    <!-- Inicio Vue App -->
                    <div id="vueApp_IG">
                  
                        
                        <!-- Imagem -->
                        <div v-for="image in vueImages" class="col-md-6 col-lg-4 mb-5" style="float: left;" title="Clique para editar, download ou visualizar em alta resolução">

                            <div class="portfolio-item mx-auto" data-toggle="modal" v-bind:data-target="'#imagem_Modal_' + image.IDImagem">
                                <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                    <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" v-bind:src="'../static/assets/Upload_Images/Thumb/' + image.Arquivo_Thumb" alt="" style="width: 100%;" /> 
              
                            </div>
                            <div class="ig_titulo">
                                [[ image.Titulo ]] 
                            </div>
                            <div class="ig_descricao">
                                [[ image.Descricao ]]
                            </div>
                        </div>
                        



                        <!-- imagem_Modal_1 -->
                        <div v-for="image in vueImages" class="portfolio-modal modal fade" v-bind:id="'imagem_Modal_' + image.IDImagem" tabindex="-1" role="dialog" v-bind:aria-labelledby="'imagem_Modal_' + image.IDImagem + '_Label'" aria-hidden="true">
                            <div class="modal-dialog modal-xl" role="document">
                                <div class="modal-content">
                                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                                    </button>
                                    <div class="modal-body text-center">
                                        <div class="container">
                                            <div class="row justify-content-center">
                                                <div class="col-lg-8">

                                                    <!-- Portfolio Modal - Title-->
                                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" v-bind:id="'imagem_Modal_' + image.IDImagem + '_Label'">[[ image.Titulo ]]</h2>
                                                    
                                                    <!-- Icon Divider-->
                                                    <div class="divider-custom">
                                                        <div class="divider-custom-line"></div>
                                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                                        <div class="divider-custom-line"></div>
                                                    </div>

                                                    <!-- Portfolio Modal - Image-->  
                                                    <img class="img-fluid rounded mb-5" v-bind:src="'../static/assets/Upload_Images/Original/' + image.Arquivo_Original" alt="" /> 
                                                    
                                                    <!-- Portfolio Modal - Text-->
                                                    <p class="mb-5">[[ image.Descricao ]]</p>

                                                    <button class="btn btn-primary" data-dismiss="modal">
                                                        <i class="fas fa-times fa-fw"></i>
                                                        Fechar Janela
                                                    </button>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>                        
                        


                        
                        <!-- upload_Modal -->
                        <div class="portfolio-modal modal fade" id="uploadModal" tabindex="-1" role="dialog" aria-labelledby="uploadModal_Label" aria-hidden="true">
                            <div class="modal-dialog modal-xl" role="document">
                                <div class="modal-content">
                                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                                    </button>
                                    <div class="modal-body text-center">
                                        <div class="container">
                                            <div class="row justify-content-center">
                                                <div class="col-lg-8">

                                                    <!-- Upload Modal - Title-->
                                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="uploadModal_Label">Adicionar Imagem</h2>
                                                    
                                                    <!-- Icon Divider-->
                                                    <div class="divider-custom">
                                                        <div class="divider-custom-line"></div>
                                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                                        <div class="divider-custom-line"></div>
                                                    </div>

                                                  
                                                    <form name="frmFile" id="frmFile" action="/upload" method="post" enctype="multipart/form-data">
                                                        
                                                    <div class="form-group" style="vertical-align: center;">

                                                            <div class="form-group">
                                                                <BR>
                                                                <input type="file" @change="onFileChanged" class="" name="txtFile" id="txtFile">
                                                                <BR><BR>
                                                            </div>
                                                                                                                      
                                                            <div class="form-group">

                                                                
                                                                <table class="ig_table_form_addimg"  cellpadding="8" cellspacing="4" style="align-self: center;">
                                                                    <tbody>
                                                                        <!--
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">ID:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado">1256</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Cadastro em:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado">31/12/2019 15:12:45</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Upload por:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado">Marcelo Rocha</td>
                                                                        </tr>   
                                                                        -->                                                                     
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Título:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado"><input type="text" class="form-control form-control-sm" id="txtTitulo" placeholder="Digite o título..."></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Descrição:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado"><textarea class="form-control form-control-sm" id="txtDesc" rows="3" placeholder="Digite a descrição..."></textarea></td>
                                                                        </tr>         
                                                                        <!--
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Arquivo:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado">Murch.jpg</td>
                                                                        </tr>
                                                                        -->                                                               
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Tamanho Original:&nbsp;</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado"><span>[[ imgProp.Size ]]</span></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Width Original:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado"><span>[[ imgProp.Width ]]</span></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Height Original:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado"><span>[[ imgProp.Height ]]</span></td>
                                                                        </tr>

    
                                                                        <tr>
                                                                            <td nowrap class="ig_td_form_addimg_label">Imagem:</td>
                                                                            <td nowrap class="ig_td_form_addimg_dado" style="text-align: center;">
                                                                                
                                                                              
                                                                                <img :src="selImageRender" v-show="showImage" alt="Selected image" style="max-width:200px; max-height:200px;">
                                                                                <BR><BR>


                                                                            </td>
                                                                                
                                                                                
                                                                    
                                                                        </tr>                                                                    
                                                                    </tbody>
                                                                </table>


                                                            </div>

                                                            
                                                        </div>
                                                    </form>
                                                    
                                                    <!-- Upload Modal - Text-->
                                                    
                                                    <BR><BR>
                                                    <button type="button" class="btn btn-primary" @click="onUpload">&nbsp;&nbsp;&nbsp;Upload!&nbsp;&nbsp;&nbsp;</button>



                                                    <!--                                                     
                                                    <button class="btn btn-primary" data-dismiss="modal">
                                                        <i class="fas fa-times fa-fw"></i>
                                                        Fechar Janela
                                                    </button> -->

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>                        
                        

                    </div> 
                    <!-- Fim Vue App -->

                </div>
            </div>
        </section>
        <!-- About Section-->
        <section class="page-section bg-primary text-white mb-0" id="about">
            <div class="container">
                <!-- About Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-white">Sobre</h2>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- About Section Content-->
                <div class="row">
                    <div class="col-lg-4 ml-auto"><p class="lead">
                        Projeto criado para treino e teste de conhecimentos nas tecnologias mencionadas acima, ao longo de uma (longa) semana.<BR>
                        No início do projeto eu pretendia criar a aplicação usando Rotas, onde o diretório indicado na URL determina a rota desejada (/about, /imagem/3445, /user/murch, etc). 
                        No entanto, durante o desenvolvimento, resolvi mudar e criei tudo em uma única página, devido ao layout escolhido.</p></div>
                    <div class="col-lg-4 mr-auto"><p class="lead">Porém, acredito ser importante demonstrar algumas rotas criadas, apenas a título de exemplo: Ao clicar em <a href="/about" style="color: lightblue;" target="_new">/about</a> voce será redirecionado para a rota "Sobre", assim como em <a href="/admin" style="color: lightblue;" target="_new">/admin</a> , redirecionando para a parte administrativa (não implementada).<BR>Foi um projeto muito interessante onde ampliei consideravelmente meus conhecimentos. Acho que as 2 colunas já estão com o mesmo tamanho, logo, posso parar de escrever.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: )</p></div>
                </div>
                <!-- About Section Button-->
                <div class="text-center mt-4">
                    Projeto criado usando o tema de bootstrap "Freelancer", disponível no botão abaixo:<BR><BR>
                    <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/themes/freelancer/" target="_new">
                        <i class="fas fa-download mr-2"></i>
                        Download Freelancer
                    </a>
                </div>
            </div>
        </section>
        <!-- Contact Section-->
        <section class="page-section" id="contact">
            <div class="container">
                <!-- Contact Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Contato</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>

                <!-- Contact Section Form-->
                <div class="row">
                    <div class="col-lg-3 mx-auto">

                        <BR>
                        <table>
                            <tbody>
                              <tr>
                                <td><b>Marcelo Rocha</b></td>
                              </tr>
                              <tr>
                                <td><a href="mailto:marcelo.rocha.murch@gmail.com">marcelo.rocha.murch@gmail.com</a></td>
                              </tr>
                              <tr>
                                <td>+55 11 97684-8301</td>
                              </tr>
                            </tbody>
                        </table>
                            
                            
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Copyright © rockdev.com.br 2020</small></div>
        </div>
        <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
        <div class="scroll-to-top d-lg-none position-fixed">
            <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i class="fa fa-chevron-up"></i></a>
        </div>
        



        


        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Core theme JS-->
        <script src="../static/js/scripts_theme.js"></script>

        <!-- Vue -->
        <script src="https://unpkg.com/vue/dist/vue.js"> </script>


        <script src="../static/js/axios.js"> </script>



        
    </body>
</html>

<script>






{% if offlineMode == true %}

    span_offline.innerHTML = ' - BANCO OFFLINE'


    var igImages = [
    { 
            IDImagem: "1", 
            Titulo: "Mãos Dadas", 
            Descricao: "Foto de 2 mãos",
            IDUserUpload: "1",
            Arquivo_Thumb: "thumb_foto1.jpg",
            Width_Thumb: "262",
            Height_Thumb: "154",
            Arquivo_Original: "foto1.jpg",
            Width_Original: "874",
            Height_Original: "514",
            UserUploadNome: "Marcelo",
        },  

        { 
            IDImagem: "2", 
            Titulo: "Professor", 
            Descricao: "Foto de uma pessoa escrevendo em uma lousa",
            IDUserUpload: "1",
            Arquivo_Thumb: "thumb_foto2.jpg",
            Width_Thumb: "262",
            Height_Thumb: "154",
            Arquivo_Original: "foto2.jpg",
            Width_Original: "874",
            Height_Original: "514",
            UserUploadNome: "Marcelo",
        },

        { 
            IDImagem: "3", 
            Titulo: "Pessoas Felizes", 
            Descricao: "Foto de um grupo de pessoas",
            IDUserUpload: "1",
            Arquivo_Thumb: "thumb_foto3.jpg",
            Width_Thumb: "262",
            Height_Thumb: "154",
            Arquivo_Original: "foto3.jpg",
            Width_Original: "874",
            Height_Original: "514",
            UserUploadNome: "Marcelo",
        }                        
    ];

{% else %}

    var igImages = [

    {% for image in rs_dados_iniciais %}

        { 
            IDImagem: "{{ image.IDImage }}", 
            Titulo: "{{ image.Titulo }}", 
            Descricao: "{{ image.Descricao }}",
            IDUserUpload: "{{ image.IDUserUpload }}",
            Arquivo_Thumb: "{{ image.Arquivo_Thumb }}",
            Width_Thumb: "{{ image.Width_Thumb }}",
            Height_Thumb: "{{ image.Height_Thumb }}",
            Arquivo_Original: "{{ image.Arquivo_Original }}",
            Width_Original: "{{ image.Width_Original }}",
            Height_Original: "{{ image.Height_Original }}",
            UserUploadNome: "{{ image.Nome }}",
        },

    {% endfor %}

    ];

{% endif %}





var igListApp = new Vue({
    el: '#vueApp_IG',
    delimiters: ['[[', ']]'],
    data: 
    {
        vueImages: igImages ,
        selFileUpload: null,
        selImageRender: null,
        showImage: false,
        imgProp: {Size: null, Width: null, Height: null}

    },
 
    methods: 
    {
        addImage: function() 
        {
            return this.vueImages.push(                
                { 
                    IDImagem: "5", 
                    Titulo: "Título da Imagem5555", 
                    Descricao: "Lorem ipsum dolor sit amet",
                    IDUserUpload: "59",
                    Arquivo_Thumb: "image1.jpg",
                    Width_Thumb: "800",
                    Height_Thumb: "600",
                    UserUploadNome: "MarceloRocha",
                }
            )
        },

        onFileChanged: function(event) 
        {
            this.selFileUpload = event.target.files[0];
            this.imgProp.Size = this.selFileUpload.size + ' bytes';

            //alert('selFileUpload.name = ' + this.selFileUpload.name);

            let reader = new FileReader();
            reader.readAsDataURL(this.selFileUpload)
            reader.onload = event => {
                //console.log(event);
                this.selImageRender = event.target.result;

                this.showImage = true;

                let img = new Image();
                img.onload = event => {
                    this.imgProp.Width = img.width;
                    this.imgProp.Height = img.height;


                }
                   
                img.src = event.target.result;
            }
        },

        onUpload: function() 
        {         
            let fileName = '';

            if (this.selFileUpload != null )
            {
                fileName = this.selFileUpload.name;
            }

            if (validaCampos(fileName) == true)
            {
                // doSubmit();

                const formData = new FormData()
                
                formData.append(this.selFileUpload.name, this.selFileUpload, this.selFileUpload.name)
                formData.append('txtTitulo', frmFile.txtTitulo.value)
                formData.append('txtDesc', frmFile.txtDesc.value)


                //alert(frmFile.txtTitulo.value)

                axios.post('/upload', formData)
                    .then(function (response) {
                        
                        if (response.status == '200')
                        {
                            //igListApp.addImage()
                            alert('Arquivo enviado com sucesso !')
                            $('#uploadModal').modal('hide');
                        }
                        else
                        {
                            alert('Ocorreu um erro desconhecido (HTTP status desconhecido: ' + response.status + ')')
                        }

                    })
                    .catch(function (error) {


                        if(error.response.status == '403')
                        {
                            alert('O arquivo enviado não é permitido. Envie apenas imagens !\n\n(Retorno: ' + error.response.data + ')')
                        }
                        else if (error.response.status == '400')
                        {
                            alert('Ocorreu um erro: Nenhum arquivo foi enviado !\n\n(Retorno: ' + error.response.data + ')')
                        }
                        else
                        {
                            alert('Ocorreu um erro desconhecido!\n\n(Retorno: ' + error.response.statusText + ' (' + error.response.status + '))')
                        }
                        
                                      
                    });

              

            }

        }       
    }
})

function doSubmit()
{
    frmFile.submit()
}

function validaCampos(theFileName)
{
    let ret = true;
    let erros = 'Os seguintes erros foram encontrados:\n\n';

    if ((theFileName == null) || (theFileName == ''))
    {
        ret = false;
        erros += '- Nenhum arquivo foi selecionado\n';
    }

    if (frmFile.txtTitulo.value == '')
    {
        ret = false;
        erros += '- O campo título não pode estar em branco\n';
    }

    if (ret == false)
    {
        alert(erros)
    }

    return ret;
}

function getImgSizeFit(img, maxWidth, maxHeight)
{
    var ratio = Math.min(1, maxWidth / img.naturalWidth, maxHeight / img.naturalHeight);  

    // img.style.width = img.naturalWidth * ratio + 'px'; 
    // img.style.height = img.naturalHeight * ratio + 'px'; 

    let fit_width = img.naturalWidth * ratio + 'px'; 
    let fit_height = img.naturalHeight * ratio + 'px'; 

    return {fit_width, fit_height}
} 





</script>
